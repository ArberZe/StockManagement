﻿
@inject AuthenticationStateProvider AuthenticationStateProvider

@code{
    protected override async Task OnInitializedAsync()
    {
        //base.OnInitialized();

        var authenticationState = await AuthenticationStateProvider.GetAuthenticationStateAsync();
        
        if (authenticationState?.User?.Identity?.IsAuthenticated == false)
        {
            // var path = NavigationManager.BaseUri.EndsWith("/") ? 
            // $"{NavigationManager.BaseUri}identity/account/login" : 
            // $"{NavigationManager.BaseUri}/identity/account/login";
            
            NavigationManager.NavigateTo("/identity/account/login", true);
        }
    }
}